{% extends 'admin/base.html.twig' %}

{% block title %} Administration - Modification du rôle | Marvel Passion {% endblock %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block body %}

    <section class="d-flex flex-column align-items-center">

        <h1 class="text-center title">Modification du role </h1>

        <p>
            <a href="{{ path('admin') }}">Retour à l'administration</a>
        </p>

        <div class="col-md-8">
            {{ form_start(form) }}

                {{ form_row(form.role_id) }}

                <button type="submit" class="btn btn-form">Modifier</button>

            {{ form_end(form) }}
            
        </div>
        <div class="table-responsive">
            <table class="table table-hover">

                <thead class="text-center">
                    <tr>
                        <th>Nom du rôle</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody class="text-center">

                {% set userRole = user.roles %}

                    {% for role in userRole %}

                    <tr>
                        <td>{{ role }}</td>
                        <td>
                        {% if role == 'ROLE_USER' %}
                            <i class="admin-icon-trash fas fa-check-circle"></i>
                        {% else %}
                            <a href="{{ path('delete_role',{'id': user.id, 'idRole': tabRole[role] }) }}">
                                <i class="admin-icon-trash fas fa-trash"></i>
                            </a>
                        {% endif %}
                        </td>
                    </tr>
                    
                    {% endfor %}
                </tbody>

            </table>
        </div>
    </section>

{% endblock %}
